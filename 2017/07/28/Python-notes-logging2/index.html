<!DOCTYPE html><html lang="English"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Python_notes_Logging2 | PrivateHome</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Python_notes_Logging2</h1><a id="logo" href="/.">PrivateHome</a><p class="description">Personal recordings</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Start</i></a><a href="/archives/"><i class="fa fa-archive"> Archiv</i></a><a href="/about/"><i class="fa fa-user"> Über</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Python_notes_Logging2</h1><div class="post-meta">Jul 28, 2017<span> | </span><span class="category"><a href="/categories/Python-notes/">Python notes</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">Inhalte</div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#logging"><span class="toc-number">1.</span> <span class="toc-text">logging</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#level-determine-what-kind-of-information-will-be-logged"><span class="toc-number">1.0.1.</span> <span class="toc-text">level: determine what kind of information will be logged.</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IMPORTANT-CONCEPTS"><span class="toc-number">2.</span> <span class="toc-text">IMPORTANT CONCEPTS</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Logger"><span class="toc-number">2.0.1.</span> <span class="toc-text">Logger</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Handler"><span class="toc-number">2.0.2.</span> <span class="toc-text">Handler</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Formatter"><span class="toc-number">2.0.3.</span> <span class="toc-text">Formatter</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Filter"><span class="toc-number">2.0.4.</span> <span class="toc-text">Filter</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Working-process"><span class="toc-number">3.</span> <span class="toc-text">Working process</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Formats"><span class="toc-number">4.</span> <span class="toc-text">Formats</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Strftime"><span class="toc-number">5.</span> <span class="toc-text">Strftime</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Sample1-to-set-up-with-Python-code"><span class="toc-number">6.</span> <span class="toc-text">Sample1, to set up with Python code</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Otherwise-build-up-config-file-first"><span class="toc-number">7.</span> <span class="toc-text">Otherwise, build up config file first:</span></a></li></ol></div></div><div class="post-content"><h3 id="logging"><a href="#logging" class="headerlink" title="logging"></a>logging</h3><a id="more"></a>
<div style="text-align:justify">More details about logging.</div>

<h5 id="level-determine-what-kind-of-information-will-be-logged"><a href="#level-determine-what-kind-of-information-will-be-logged" class="headerlink" title="level: determine what kind of information will be logged."></a>level: determine what kind of information will be logged.</h5><table>
<thead>
<tr>
<th style="text-align:center">level</th>
<th style="text-align:center">Case</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">DEBUG</td>
<td style="text-align:center">details</td>
</tr>
<tr>
<td style="text-align:center">INFO</td>
<td style="text-align:center">information</td>
</tr>
<tr>
<td style="text-align:center">WARNING</td>
<td style="text-align:center">accidents</td>
</tr>
<tr>
<td style="text-align:center">ERROR</td>
<td style="text-align:center">errors</td>
</tr>
<tr>
<td style="text-align:center">CRITICAL</td>
<td style="text-align:center">more critical errors</td>
</tr>
</tbody>
</table>
<p><br></p>
<h3 id="IMPORTANT-CONCEPTS"><a href="#IMPORTANT-CONCEPTS" class="headerlink" title="IMPORTANT CONCEPTS"></a>IMPORTANT CONCEPTS</h3><h5 id="Logger"><a href="#Logger" class="headerlink" title="Logger"></a>Logger</h5><p>It is kind of recorder and instance. The default one will set with WARING level and StreamHandler.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">logger = logging.getLogger(logger_name)</div></pre></td></tr></table></figure></p>
<ul>
<li>logger.setLevel(INFO)   &nbsp;&nbsp;&nbsp;  #only when the log is equal to or more than the INFO level, will be logged</li>
<li>logger.addHandler(HandlerName)</li>
<li>logger.removeHandler(HandlerName)</li>
</ul>
<h5 id="Handler"><a href="#Handler" class="headerlink" title="Handler"></a>Handler</h5><p>It is kind of processor and there are three common types: StreamHandler, FileHandler and NullHandler.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">sh = logging.StreamHandler(stream=None)</div><div class="line"></div><div class="line">fh = logging.FileHandler(filename, mode=<span class="string">'a'</span>, encoding=None, delay=False)</div><div class="line"></div><div class="line">NullHandler cannot be used to output</div></pre></td></tr></table></figure>
<h5 id="Formatter"><a href="#Formatter" class="headerlink" title="Formatter"></a>Formatter</h5><p>Default time format is %Y-%m-%d %H:%M:%S.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">formatter = logging.Formatter(fmt=None, datefmt=None)</div></pre></td></tr></table></figure></p>
<h5 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h5><p>Filter only allows specified events logged. But if it is initialized with STRING, all events can be accepted.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">filter = logging.Filter(name=<span class="string">''</span>)</div></pre></td></tr></table></figure></p>
<h3 id="Working-process"><a href="#Working-process" class="headerlink" title="Working process"></a>Working process</h3><ol>
<li><p>The first time you import the logging module or re-import the logging module using the reload function, the code in the logging module will be executed. This will result in the default configuration of the logging system.</p>
</li>
<li><p>Custom configuration (optional). Logging The standard module supports three configurations: dictConfig, fileConfig, listen. Among them, dictConfig is configured through a dictionary Logger, Handler, Filter, Formatter; fileConfig is configured through a file; and listen is listening to a network port, by receiving network data to configure.Of course, in addition to the above collective configuration, you can also directly call Logger, Handler and other objects in the code in the code to the explicit configuration.</p>
</li>
<li><p>Use the getLogger function in the global scope of the logging module to get a Logger object instance whose parameter is a string that represents the name of the Logger object instance, which is, the name of the corresponding Logger object instance.</p>
</li>
<li><p>Use the Logger object in the debug, info, error, warn, critical and other methods to record log information.</p>
</li>
</ol>
<h3 id="Formats"><a href="#Formats" class="headerlink" title="Formats"></a>Formats</h3><table>
<thead>
<tr>
<th style="text-align:center">Format</th>
<th style="text-align:center">Meanning</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">%(levelno)s</td>
<td style="text-align:center">level</td>
</tr>
<tr>
<td style="text-align:center">%(levelname)s</td>
<td style="text-align:center">levelname</td>
</tr>
<tr>
<td style="text-align:center">%(pathname)s</td>
<td style="text-align:center">project path</td>
</tr>
<tr>
<td style="text-align:center">%(filename)s</td>
<td style="text-align:center">procect name</td>
</tr>
<tr>
<td style="text-align:center">%(funcName)s</td>
<td style="text-align:center">function name now print the logging</td>
</tr>
<tr>
<td style="text-align:center">%(asctime)s</td>
<td style="text-align:center">time</td>
</tr>
<tr>
<td style="text-align:center">%(thread)d</td>
<td style="text-align:center">thread</td>
</tr>
<tr>
<td style="text-align:center">%(process)d</td>
<td style="text-align:center">process ID</td>
</tr>
<tr>
<td style="text-align:center">%(message)s</td>
<td style="text-align:center">messages</td>
</tr>
</tbody>
</table>
<h3 id="Strftime"><a href="#Strftime" class="headerlink" title="Strftime"></a>Strftime</h3><p><a href="https://docs.python.org/2/library/time.html?highlight=strftime#time.strftime" target="_blank" rel="external">strftime</a></p>
<h3 id="Sample1-to-set-up-with-Python-code"><a href="#Sample1-to-set-up-with-Python-code" class="headerlink" title="Sample1, to set up with Python code"></a>Sample1, to set up with Python code</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">import logging</div><div class="line"></div><div class="line"><span class="comment"># create logger</span></div><div class="line">logger_name = <span class="string">"test"</span></div><div class="line">logger = logging.getLogger(logger_name)</div><div class="line">logger.setLevel(logging.INFO)</div><div class="line"></div><div class="line"><span class="comment"># create file handler</span></div><div class="line">log_path = <span class="string">"./test.log"</span></div><div class="line">fh = logging.FileHandler(log_path)</div><div class="line">fh.setLevel(logging.INFO)</div><div class="line"></div><div class="line"><span class="comment"># create formatter</span></div><div class="line">fmt = <span class="string">"%(asctime)%(levelname)s %(filename)s %(lineno)d %(message)s"</span></div><div class="line">datefmt = <span class="string">"%a %d %b %Y %H:%M:%S"</span></div><div class="line">formatter = logging.Formatter(fmt, datefmt)</div><div class="line"></div><div class="line"><span class="comment"># add handler and formatter to logger</span></div><div class="line">fh.setFormatter(formatter)</div><div class="line">logger.addHandler(fh)</div><div class="line"></div><div class="line"><span class="comment"># print log info</span></div><div class="line">logger.debug(<span class="string">'debug message'</span>)</div><div class="line">logger.info(<span class="string">'info message'</span>)</div><div class="line">logger.warn(<span class="string">'warn message'</span>)</div><div class="line">logger.error(<span class="string">'error message'</span>)</div><div class="line">logger.critical(<span class="string">'critical message'</span>)</div></pre></td></tr></table></figure>
<h3 id="Otherwise-build-up-config-file-first"><a href="#Otherwise-build-up-config-file-first" class="headerlink" title="Otherwise, build up config file first:"></a>Otherwise, build up config file first:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">[loggers] </div><div class="line">keys=root,<span class="built_in">test</span></div><div class="line"></div><div class="line">[logger_root]</div><div class="line">level=DEBUG</div><div class="line">handlers=hand1,hand2</div><div class="line"></div><div class="line">[logger_test]</div><div class="line">handlers=hand1,hand2</div><div class="line">qualname=<span class="built_in">test</span></div><div class="line">propagate=0</div><div class="line"></div><div class="line">[handlers]</div><div class="line">keys=hand1,hand1</div><div class="line"></div><div class="line">[handler_hand1]</div><div class="line">class=StreamHandler</div><div class="line">level=INFO</div><div class="line">formatter=form2</div><div class="line">args=(sys.stderr,)</div><div class="line"></div><div class="line">[handler_hand2]</div><div class="line">class=FileHandler</div><div class="line">level=INFO</div><div class="line">formatter=form1</div><div class="line">args=(<span class="string">'log.log'</span>, <span class="string">'a'</span>)</div><div class="line"></div><div class="line">[formatters]</div><div class="line">keys=form1,form2</div><div class="line"></div><div class="line">[formatter_form1]</div><div class="line">format=%(asctime)s %(filename) %(lineno)d %(levelname)s %(message)s</div></pre></td></tr></table></figure>
<p>And then configure the file:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">import logging</div><div class="line">import logging.config</div><div class="line"></div><div class="line">logging.config.fileConfig(<span class="string">"./test.conf"</span>)</div><div class="line"></div><div class="line"><span class="comment"># create logger</span></div><div class="line">logger_name = <span class="string">"test"</span></div><div class="line">logger = logging.getLogger(logger_name)</div><div class="line"></div><div class="line">logger.debug(<span class="string">'debug message'</span>)</div><div class="line">logger.info(<span class="string">'info message'</span>)</div><div class="line">logger.warn(<span class="string">'warn message'</span>)</div><div class="line">logger.error(<span class="string">'error message'</span>)</div><div class="line">logger.critical(<span class="string">'critical message'</span>)</div></pre></td></tr></table></figure></p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://private100.github.io/2017/07/28/Python-notes-logging2/" data-id="cj5o1g6ve000g6kmvvd48emrk" class="article-share-link">Aktie</a><div class="tags"><a href="/tags/Logging/">Logging</a></div><div class="post-nav"><a href="/2017/06/15/Python-notes-URLError/" class="next">Python_notes_URLError</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://private100.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Kategorien</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Group-Project/">Group Project</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python-notes/">Python notes</a><span class="category-list-count">9</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Douglas-Peucker/" style="font-size: 15px;">Douglas-Peucker</a> <a href="/tags/Scrapy/" style="font-size: 15px;">Scrapy</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/Multithreading/" style="font-size: 15px;">Multithreading</a> <a href="/tags/URLError/" style="font-size: 15px;">URLError</a> <a href="/tags/bs/" style="font-size: 15px;">bs</a> <a href="/tags/Regular-Expression/" style="font-size: 15px;">Regular Expression</a> <a href="/tags/Logging/" style="font-size: 15px;">Logging</a> <a href="/tags/Yield/" style="font-size: 15px;">Yield</a> <a href="/tags/Socket/" style="font-size: 15px;">Socket</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Letzte</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/07/28/Python-notes-logging2/">Python_notes_Logging2</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/15/Python-notes-URLError/">Python_notes_URLError</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/10/Python-notes-BeautifulSoup/">Python-notes-BeautifulSoup</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/08/Python-notes-Scrapy/">Python-notes-Scrapy</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/28/Python-notes-Socket/">Python-notes-Socket</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/25/Python-notes-Regular-Expression/">Python-notes-Regular-Expression</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/21/Python-notes-YieldGenerator/">Python-notes-YieldGenerator</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/17/Python-notes-Multithreading/">Python_notes_Multithreading</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/14/Python-notes-logging/">Python_notes_Logging</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/02/24/Douglas-Peucker/">Douglas-Peucker</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">PrivateHome.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>